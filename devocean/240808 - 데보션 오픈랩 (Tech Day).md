### 데보션 오픈랩 후기
2024.04.22 ~ 07.21 (3개월) 동안 실시한 10가지의 스터디.
하반기에도 또 시행할 예정임.
OpenLab OpenAPI... 이런 Open이라는 말들이 왜 나오기 시작했나? 전통적인 기업의 분위기에서 조금 더 개방적인 패러다임으로 나타난 개념이다.

10개의 스터디 모임, 102명의 개발자, 118건의 블로그
여기에 9개 세션/4개 포스터 . 프로젝트 부스도 있다.

OpenLab을 한 102명에게 피드백을 하면 **4.65/5.0**이었다. 다음 스터디 참여에 모두 다시하고싶다는 피드백이 있었다.
**좋았던 점**
- 현업 개발자와 함께 하기에.. 다양한 배경과 경험 가진 분들과 함께하여 더욱 다양한 관점에서 바라볼 수 있음.
- 퇴근 후의 자유로운 토론
- 현업에서의 고급기능, 실무운영 팁 등
- 스터디 운영자님들의 열정/노력
**개선할 점**
- 난이도 문제
- 장소, 온도 문제
- 오프라인 참여의 문제
- 식사 제공 여부, 쉬는 시간 등 사전 공지

6회째의 Tech Day 행사이다. 지금까지는 반나절밖에 안해서 TechDay라기에 애매했지만, 이번에는 10:00부터 18:00까지라 진짜 Tech Day이다
11시 40분쯤부터 점심시간 - 13:30부터 Part2 / 15시쯤부터 15:30까지 쉬는시간

**프로젝트 데모 부스**
Echo-Teddy
Lens
LLMEdubank
TGO(Travel GO)
직접 참여해봅시다.

# 목차
1) 개발자가 알아야 할 NAT, DNS
2) GraphRAG로 여행 100% 준비하고 떠나기

## 1) 개발자가 알아야 할 NAT, DNS
**인프라 엔지니어 : 고재민**
DNS 동작방식과 도메인 위임, NAT 동작방식과 방화벽.. 
#### DNS란? Domain Name Service
- 사람이 읽을수있는 도메인 이름을 컴퓨터가 읽을 수 있는 IP주소로 변환하는 것.
- 클라우드 기반 인프라 구성이 많아지며 인프라가 빈번히 변경되어 DNS를 이용한 시스템 설계가 중요해지고 있음
- IP를 이용한것보다 도메인으로 많이 하고있음 (IP는 자주 변경될수있으니..)

blog. example. com.은
sub/second-level/top-level/root 순서이다.

**ipconfig/displaydns** : dns정보 확인가능
**ipconfig/flushdns** : 기존 로컬 DNS캐시를 비우고 새로운 도메인 정보를 가져올 수 있음 

Local에서 DNS 서버 요청을 보내고, DNS에서 해당 주소를 Root, Top-name, Cloud 순서로 탐색한다?

Local 캐시에 저장이 되어있는지 확인하고, 있다면 DNS서버는 바로 해당 웹사이트를 전달하고, DNS서버에서 해당 도메인 정보가 없다면 루트네임-탑레벨도메인-클라우드 순서로 
.com / example.com / blog.example.com 인가?

DNS 동작방식은 TTL과 DNS
- TTL이 짧을수록 도메인이 바뀌었을 때 이를 PC가 알아차리는 속도가 빠르다. 업데이트시에는 TTL설정을 짧게하고, 자주바뀌지 않는 도메인이면 TTL을 길게 변경할 수 있다.
- 하지만 쿼리를 자주해야하기에 DNS 서버에 부하가 증가한다. TTL이 길면 쿼리 자주 안해도 되지만 도메인 정보가 바뀌었을때 이를 알아차리지못함

**DNS 도메인 위임**
상위 도메인에서 하위 도메인의 네임서버를 지정하여 관리권한 넘겨주는것을 의미.
- 도메인을 위임하면 AWS, NCP 서로 다른 플랫폼으로도 사용할 수 있는것. 별도 운영 가능

**NAT란? Network Address Translation**
- 사설IP에서 공인IP로, 사설 IP에서 사설IP로, 공인IP에서 공인IP로 모두 NAT이다.
- 가정에서 인터넷을 사용하는 경우가 대표적인 예시이다. (공유기를 통함)
- 인터넷 공유기는 IP와 포트번호를 활용해서 SourceIP/Port 와 Destination IP/Port를 변환하는 테이블을 형성하여 사설주소를 갖는 컴퓨터의 네트워크를 공인IP로 활용하도록 할 수 있는 것.
**AWS에서의 SourceNAT, DestinationNAT**
- 프라이빗 서브넷인 EC2는 외부통신이 막혀있다. 따라서 NAT를 통해(SourceNAT) 외부 망에 연결하는 것이다.
- 로드밸런서를 이용하여 공인IP가 없는 EC2에 도달할 수 있도록 하는 것이 DestinationNAT이다.
**NAT와 방화벽**
- 개발 업무 하다보면 방화벽 신청을 할 때가 있는데, 연결이 되 안되다 할 때가 있다.
- 사내 NAT IP를 미리 파악해서 신청하면 네트워크 문제를 해결할 수 있다.
**정리**
- DNS를 활용한 온프레미스 + 클라우드 운영방법 (GSLB with 재해복구) / 멀티클라우드 환경을 구축할 수 있다.
- MSA, 쿠버네티스 환경에서의 Service Registry, Service Discovery
- DNS A레코드, CNAME 레코드
- NAT 이중화 시 방화벽 허용 잊지마세요.

DNS 위임은 서버 두대가 필요한데, 클라우드 환경에서 하기 좋다.
**질의응답**
1. 방화박 설정만으로도 기본적인 해킹 시도들은 막을 수 있나요? => 기본적으로 리눅스에도 FireWall이라는게있고, AWS에서도 보안그룹이라는게 있다. 해킹시도는 기본적으로 연결이 되어야하는데 SSH는 22번포트를 사용하는데, 특정 포트보다는 이렇게 포트를 변경한다면 좀 안전할 수 있다.
2. **포트포워딩도 NAT 과정인가요?** => 포트포워딩도 어떻게보면 공인IP를 사설IP로 매핑시키는데 어떻게보면 NAT과정이라 생각한다.
3. AWS Route53에 ns는 4가지로 등록되어있었는데, 스크린샷상 타 클라우드 ns에 등록할 때 2개만 등록하신것으로 보였는데, 4가지 모두 등록하지 않아도 문제되지않는지 => 4개가 있어도 각각 동작하는것이기에 전부 등록하지 않아도 각각 잘 동작하게된다.

# 2) GraphRAG로 여행 100% 준비하고 떠나기
**그래프 데이터사이언티스트 : 정이태**
- GraphRAG가 뭐지???
**여행 가기 전 100% 준비하고 있는지?**

고객을 세 분류로 나눈다면.. 혜택을 전혀 활용하지 못하는 고객, 로밍 어느정도 활용하는 고객, 엄청 활용하는 고객 => 왜 이런 고객들의 경우가 나타날까? 편의를 제공해야하는데! 왜 100% 챙겨주고싶어도 잘 안될까?
- 두 세대에게 질문했다. 원인은 무엇이냐..
- **중장년층** : 해외여행 가기전에 로밍 요금제. 114 전화하거나 공항부스 찾아간다. / Q. 인터넷으로도 충분히 가입할수있는데 시도해보겠어요? / 복잡해서 어려워요... 아들에게 부탁할래요 / Q. 혜택 받을수있는거 많아보이는데 활용할수있나요? / 아 그래요? 아들에게 부탁해야겠네
- **청년층** : 혜택을 고루고루 사용하는분 / Q. 어떻게 다 알고 했나? / Q.요금 혜택 이외에도 다른 혜택 모두 사용했는지? / 추가적인 혜택은 설명이 잘 이해가 되지 않아서 하지 않았다. 

두 세대를 아우르는 말. **복잡함**. 둘은 로밍 가입 경로가 다르다.
- 중장년층은 직접 전화 혹은 공항부스 방문. 금전적인것은 생각보다 크게 안고민
- 청년층은 앱으로 가입하고 혜택 적용안됐으면 상품 구매 안했을것이다.

우리가 여행갈때는 고민할것들이 너무 많다. 무슨 요금제쓸지 혜택 유무에 따라 또 달라지고..  혜택을 내가 받을수는 있는지...

내 멤버십 등급에서 이게 가능할지에 대해 고민해야하고.. 기존에 있는 가족결합과 로밍에 있는 가족결합이 별개이고 또 나눠져있는데(한정) 또 혜택 여행지에서 가능한지, 호텔/음식점/쇼핑/관광지/교통 등 어디에 사용가능할지... **너무 복잡하다.**

여행에서는 갈 때 생각할것이 너무 많은데 이것까지 언제 다 신경쓰면서 가는지! 로밍 혜택은 어쩌면 Minor한 부분이다. 그래서 에너지 쓰기 싫을수밖에없다.

**연관지어있는 것들을 연결하여 고객에게 혜택을 쉽게 보여주면 어떨까?**
분리되어 있지만, 사실 모두 연관되어있는 데이터들이다.. 그러면 연결해놓을 수 있다. 혜택들을 모두 연관지어줄수있는것.

로밍 혜택, 고객 정보, 멤버십 혜택 등 다 하나로 통합되어야함.
유저들끼리도 연결되고... 로밍, 멤버십 혜택 등.. 다 연결되고.. 
이런 것들을 **그래프 스키마로 연결한다**

**GraphRAG란??**
LLM계의 오픈북이라고 보면 된다. 책에서 우리가 찾아서 답변을 생성할텐데, LLM이 질문에 답변을하기 위해 데이터를 찾아서 가져와 답변하는것. (환각현상도 감소)
RAG와 GraphRAG의 차이는 가져오느냐 아니냐의 차이?

가족결합 및 유저간 뎅