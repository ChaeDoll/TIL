### 데보션 오픈랩 후기
2024.04.22 ~ 07.21 (3개월) 동안 실시한 10가지의 스터디.
하반기에도 또 시행할 예정임.
OpenLab OpenAPI... 이런 Open이라는 말들이 왜 나오기 시작했나? 전통적인 기업의 분위기에서 조금 더 개방적인 패러다임으로 나타난 개념이다.

10개의 스터디 모임, 102명의 개발자, 118건의 블로그
여기에 9개 세션/4개 포스터 . 프로젝트 부스도 있다.

OpenLab을 한 102명에게 피드백을 하면 **4.65/5.0**이었다. 다음 스터디 참여에 모두 다시하고싶다는 피드백이 있었다.
**좋았던 점**
- 현업 개발자와 함께 하기에.. 다양한 배경과 경험 가진 분들과 함께하여 더욱 다양한 관점에서 바라볼 수 있음.
- 퇴근 후의 자유로운 토론
- 현업에서의 고급기능, 실무운영 팁 등
- 스터디 운영자님들의 열정/노력
**개선할 점**
- 난이도 문제
- 장소, 온도 문제
- 오프라인 참여의 문제
- 식사 제공 여부, 쉬는 시간 등 사전 공지

6회째의 Tech Day 행사이다. 지금까지는 반나절밖에 안해서 TechDay라기에 애매했지만, 이번에는 10:00부터 18:00까지라 진짜 Tech Day이다
11시 40분쯤부터 점심시간 - 13:30부터 Part2 / 15시쯤부터 15:30까지 쉬는시간

**프로젝트 데모 부스**
Echo-Teddy
Lens
LLMEdubank
TGO(Travel GO)
직접 참여해봅시다.

# 목차
1) 개발자가 알아야 할 NAT, DNS
2) 

## 1) 개발자가 알아야 할 NAT, DNS
**인프라 엔지니어 : 고재민**
DNS 동작방식과 도메인 위임, NAT 동작방식과 방화벽.. 
#### DNS란? Domain Name Service
- 사람이 읽을수있는 도메인 이름을 컴퓨터가 읽을 수 있는 IP주소로 변환하는 것.
- 클라우드 기반 인프라 구성이 많아지며 인프라가 빈번히 변경되어 DNS를 이용한 시스템 설계가 중요해지고 있음
- IP를 이용한것보다 도메인으로 많이 하고있음 (IP는 자주 변경될수있으니..)

blog. example. com.은
sub/second-level/top-level/root 순서이다.

**ipconfig/displaydns** : dns정보 확인가능
**ipconfig/flushdns** : 기존 로컬 DNS캐시를 비우고 새로운 도메인 정보를 가져올 수 있음 

Local에서 DNS 서버 요청을 보내고, DNS에서 해당 주소를 Root, Top-name, Cloud 순서로 탐색한다?

Local 캐시에 저장이 되어있는지 확인하고, 있다면 DNS서버는 바로 해당 웹사이트를 전달하고, DNS서버에서 해당 도메인 정보가 없다면 루트네임-탑레벨도메인-클라우드 순서로 
.com / example.com / blog.example.com 인가?

DNS 동작방식은 TTL과 DNS
- TTL이 짧을수록 도메인이 바뀌었을 때 이를 PC가 알아차리는 속도가 빠르다. 업데이트시에는 TTL설정을 짧게하고, 자주바뀌지 않는 도메인이면 TTL을 길게 변경할 수 있다.
- 하지만 쿼리를 자주해야하기에 DNS 서버에 부하가 증가한다. TTL이 길면 쿼리 자주 안해도 되지만 도메인 정보가 바뀌었을때 이를 알아차리지못함

**DNS 도메인 위임**
상위 도메인에서 하위 도메인의 네임서버를 지정하여 관리권한 넘겨주는것을 의미.
- 도메인을 위임하면 AWS, NCP 서로 다른 플랫폼으로도 사용할 수 있는것. 별도 운영 가능

**NAT란? Network Address Translation**
- 사설IP에서 공인IP로, 사설 IP에서 사설IP로, 공인IP에서 공인IP로 모두 NAT이다.
- 가정에서 인터넷을 사용하는 경우가 대표적인 예시이다. (공유기를 통함)
- 인터넷 공유기는 IP와 포트번호를 활용해서 SourceIP/Port 와 Destination IP/Port를 변환하는 테이블을 형성하여 사설주소를 갖는 컴퓨터의 네트워크를 공인IP로 활용하도록 할 수 있는 것.
**AWS에서의 SourceNAT, DestinationNAT**
- 프라이빗 서브넷인 EC2는 외부통신이 막혀있다. 따라서 NAT를 통해(SourceNAT) 외부 망에 연결하는 것이다.
- 로드밸런서를 이용하여 공인IP가 없는 EC2에 도달할 수 있도록 하는 것이 DestinationNAT이다.
**NAT와 방화벽**
- 개발 업무 하다보면 방화벽 신청을 할 때가 있는데, 연결이 되 안되다 할 때가 있다.
- 사내 NAT IP를 미리 파악해서 신청하면 네트워크 문제를 해결할 수 있다.
**정리**
- DNS를 활용한 온프레미스 + 클라우드 운영방법 (GSLB with 재해복구) / 멀티클라우드 환경을 구축할 수 있다.
- MSA, 쿠버네티스 환경에서의 Service Registry, Service Discovery
- DNS A레코드, CNAME 레코드
- NAT 이중화 시 방화벽 허용 잊지마세요.
