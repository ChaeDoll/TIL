섹션 6 - H2 데이터베이스  
데이터베이스 h2를 설치하고 이를 활용하는 방법에 대해 알아보았다. 기존엔 메모리에 데이터를 저장하는 방식으로, 서버가 종료되면 데이터도 삭제되는 휘발성 형식의 데이터였다.  
데이터베이스가 존재한다면 이러한 데이터들을 보존할 수 있을 것이고, 그를 위해 h2라는 프로그램을 이용하는 것이다. h2파일을 설치하고 h2.bat을 실행하여 프로그램에 접속할 수 있다. 윈도우 기준으로 h2.bat이고, 맥에서는 h2.sh를 실행한다고 한다.  
최초 접속에 성공하면 홈(cd ~)에 test.mv.db라는 데이터가 생성된다. 만약 h2를 초기화하고 싶다면 이 test.mv.db를 삭제한 뒤 다시 프로그램을 최초 실행시키면 초기화가 가능하다고 한다.  

순수 Jdbc는 build gradle 파일에 jdbc, h2와 관련된 라이브러리도 추가하고, 스프링부트 데이터베이스를 url을 통해 넣어야 한다.  
기존 코드를 건드리지 않고 Config파일만 수정하는 것으로 Repository를 변경할 수 있는데, 이것이 바로 스프링의 장점이다.  
스프링의 기본언어인 자바의 인터페이스 기능을 잘 활용한다면 OCP(개방폐쇄원칙)을 구현할 수 있다.  
Test를 할 때 @Aftereach 구문으로 Test가 돌 때마다 입력된 정보를 삭제하는 기능도 있는데, Rollback 기능을 사용하여 테스트를 다 하고 다시 초기상태로 돌아가는 방법도 있을 것이다 --> @Transactional 사용. 이러면 반복실행 테스트도 문제없이 구동된다.  
참고로 Transactional은 Test케이스에서만 동작한다.  
최소단위로 테스트하는 것을 단위테스트, 스프링 컨테이너를 포함하여 테스트하는것을 통합테스트라고 한다. 이왕이면 단위테스트가 더 좋은 경우가 많으니 참고.  

순수 스프링 Jdbc에 이어, 스프링 Jdbc템플릿에 대해 소개하자면 위에서 반복되는 코드들을 많이 제거해주는 것이라고 생각하면 편하다. 실무에서도 많이 사용하고 생성자 하나만 있다면 @Autowired도 생략 가능하다.  

여기에 더 얹어서 아직까지는 Sql을 개발자가 작성해야 하는데 그것까지(쿼리) 없앨 수 있는 JPA라는 것도 있다. 이를 사용하면 객체 중심 설계로 전환이 가능하고 개발생산성을 크게 높일 수 있게 된다. 국내에서도 JPA가 도입되며 점점 많이 사용되고 있다.  
하지만 JPA는 스프링만큼이나 활용하기 위해 공부해야 하는 양이 방대하기에 시간이 꽤 걸릴 수 있다.  
JPA는 쉽게 생각하면 자바 진영의 표준 인터페이스라고 생각하면 된다. JPA는 EntityManager이라는 것으로 모든 것을 동작시키는데, 이를 사용하면 멤버 등록이나 회원 조회 등 자동으로 쿼리를 등록해주기 때문에 매우 편리하다. 큰 회사들도 많이 쓰는데에는 다 이유가 있다.  

스프링데이터 JPA...(작성 중)