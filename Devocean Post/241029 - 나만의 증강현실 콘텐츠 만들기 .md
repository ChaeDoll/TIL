▶ Unity AR Foundation의 Image Tracking을 활용한 나만의 증강현실 콘텐츠 만들기

안녕하세요 정말 오랜만에 돌아온 순단입니다.
최근에 시험도 있고, 공모전이나 동아리 활동으로 바쁘게 지내느라 포스트를 정말 오랜만에 하는 것 같아요🥹
이번에는 Unity를 활용하여 나만의 이미지 트래킹 앱을 만드는 방법에 대해서 여러분들께 소개해드리려고 해요!

> **이미지 트래킹이란?**
> 사전에 등록해놓은 이미지를 감지하여 해당 이미지 위치를 중심점으로 하여 Object를 렌더링하고 따라다니도록 하는 Computer Vision 기술입니다.

혹시 나만의 이미지 트래킹 앱을 만들고 싶은데 어떻게 시작해야할지 어려움이 있다면 이 글이 도움이 되면 좋겠습니다!😊

## 목차
1. Unity 기본 환경 설정
2. Image Tracking 구현
3. 빌드 및 실행
4. 추후 활용 방안

### Unity 기본 환경 설정
증강현실 콘텐츠를 Unity로 만드는 이유가 뭘까요? Unity는 Cross-Platform 이라는 장점을 가지고 있습니다. Android를 사용하는 기기는 Google ARCore을 사용하여 개발해야하고, iOS를 사용하는 기기는 Apple ARKit를 사용하여 개발해야합니다.
Unity AR Foundation 기술을 활용하면, Unity라는 3D Engine에서 증강현실 콘텐츠를 개발하고 단순히 플랫폼을 변경하는 것만으로 Android와 iOS 모두 사용 가능한 앱을 개발할 수 있게 됩니다.😎
또한 Unity Asset Store와 같은 서비스도 존재하기에 개발자에게는 어려울 수 있는 캐릭터나 UI의 디자인, 음향효과, 파티클 등 무료로 활용 가능한 Asset도 정말 많기에 빠른 개발에도 도움이 됩니다.

이제 기본적인 환경 설정을 차례대로 설명해드리겠습니다.
우선, Unity 홈페이지에서 Unity Editor를 설치해야합니다. 설치하는 과정에서 엔진의 버전을 선택하는 경우가 있는데 안정적인 버전임을 증명하는 LTS(Long Term Support Release)가 붙은 버전을 선택하여 설치하세요. (ex. Unity 2022.3.35f LTS)

Unity Editor 설치를 마쳤다면, 새 프로젝트를 열어 (New Project) > 3D 템플릿으로 프로젝트를 생성해주세요. 이후 접속이 완료되면 상단창에 있는 Window > Package Manager > 좌측 상단 Packages : Unity Registry 탭을 선택하여 보이는 리스트 중 Features - AR 설치 (또는 AR Foundation, Apple ARKit XR Plugins, Google ARCore XR Plugins 설치) 

필수 라이브러리 설치를 마쳤다면, 에디터 메인 화면 좌측탭(Hierarchy)에서 우클릭 > XR > AR Session과 XR Origin 을 클릭하여 소환해준뒤, 기존에 존재하던 Main Camera 컴포넌트를 삭제해주세요(Delete 버튼 또는 우클릭하여 Delete). 
> XR Origin 컴포넌트 내에 증강현실을 위한 카메라 컴포넌트가 존재하기 때문에 기존에 있던 Main Camera를 오류가 생기지 않도록 지워주는 과정입니다.

이제 정말 마지막 세팅이 남았습니다! 기본적으로 Unity 프로젝트에서는 PC 버전으로 Build가 설정되어 있습니다. 따라서 상단 탭에서 File > Build Setting에 들어가서 Platform을 Android 또는 iOS로 클릭한 뒤, 오른쪽 아래에 Switch Platform 버튼을 눌러주세요.
이제 로딩을 기다리면... 끝입니다! 기본적인 사전 설정을 모두 마쳤습니다. 👏
### Image Tracking 구현
기본적인 증강현실 준비를 마쳤다면, 이제 원하는 기능을 가진 컴포넌트를 결합하고, C# 스크립트 코드를 짜서 완성시키면 됩니다. 기초적인 구현은 많은 코드 없이도 쉽게 구현이 가능하니 따라오기 편할 것이라 생각해요!🤭

Unity AR Foundation에서는 AR Image Tracking, AR Plane, AR Point Cloud, AR Raycast 등 다양한 기능들을 사용할 수 있고, AR Foundation에서 제공하는 컴포넌트를 우리는 활용하기만 하면 됩니다. 이전에 메인 화면 좌측 탭에 Hierarchy에 'XR Origin' 이라는 컴포넌트를 소환했던 것을 기억하시죠? 해당 컴포넌트를 클릭하고, 우측의 Inspector에서 Add Component 버튼을 눌러 AR Tracked Image Manager 라는 스크립트를 검색하여 Import 해줍니다. 해당 스크립트는 등록한 이미지 라이브러리를 감지하여 설정한 Object를 증강시켜주는 스크립트입니다. 