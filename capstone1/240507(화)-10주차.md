# 2024-05-07 (화) 진행상황
## 프론트
- 어제 React native Vision Camera 라는 라이브러리를 통해 카메라를 구현하려 했다. (해당 카메라에 Shutter음 disable속성이 있길래)
- 근데 Expo에서 지원하는 라이브러리가 아니라는 결과를 받았다... 다시 Expo camera로 진행하려 한다.
- 찰칵 찍는 카메라 소리는 그냥 갖고 다니도록 하자

### 타이머 구현
- 이제 구현해야하는게 사진을 어떤 타이밍에 찍을지 였다. 소리가 계속 나니까 계속촬영할수도 없는 노릇이고... 특정 시간에 촬영 후 분석페이지로 넘어가기로 결정했다.
- 버튼을 눌러서 촬영할지, 얼굴을 인식해서 타이머를 할지 고민했는데, 내가 정한것은 얼굴이 인식될때 타이머가 작동하는것이었다.
- (추가적으로 가이드라인 안에 들어와야만 타이머 작동하게 할것임)
- handleFaceDetected 함수에 setInterval 함수를 작성하는걸로 초반엔 생각했으나, 그냥 useState를 사용하면 더 쉬울것같아서 useState를 사용했다.
- 초기에 Count는 0으로 시작하고 카메라에 얼굴이 존재하면 1초마다 count가 1씩 증가하는 식으로 구성하였다. 또한 얼굴이 화면 밖을 나가면 Count는 다시 0으로 초기화된다.
- 이제 absolute position을 가진 Text 태그를 만들고 이 안에 {4 - captureCount}를 두었다. 이러면 화면에 3, 2, 1 ... 이렇게 감소하는 텍스트가 완성되고, 화면밖으로 얼굴이 나가면 다시 초기화된다.
- 왜 4로했냐면, 나는 카운트가 언제나 화면에 떠있는것을 막고자 countEnable이라는 boolean useState를 만들었다. 이를 통해 얼굴이 존재할때만 Count가 나타나도록 했다.
- 그런데 countEnable도 captureCount와 같은 useState이기에 렌더링 상 즉시 4라는 숫자가 보이지 않을 것이다. 따라서 3부터 보이게 되는 것이다.
- 이후 내부 코드에 Count가 4가 되면 takePhoto() 메소드를 실행시키고, 그 내부에 있는 takePictureAsync()메소드를 통해 캡처 uri를 가져오게 된다.
- 이렇게 가져온 uri를 다음 분석화면으로 navigation.navigate() 하여 uri와 함께 넘겼다.
![image](https://github.com/ChaeDoll/TIL/assets/108540812/ece5faa0-10aa-4204-a0ae-76c51e7025c5)

<img src="https://github.com/ChaeDoll/TIL/assets/108540812/cd561cd1-185d-4eb5-859f-1b54cdce5d00" width="30%"/>
<img src="https://github.com/ChaeDoll/TIL/assets/108540812/9371b172-01ab-498b-97a9-934711499d69" width="30%"/>
<img src="https://github.com/ChaeDoll/TIL/assets/108540812/256d4d16-6768-43b9-9bd4-b1e621285b51" width="30%"/>
